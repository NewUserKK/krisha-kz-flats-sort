# krisha-kz-flats-sort

В связи с событиями сентября 2022, написал на коленке скрипт, который сортирует квартиры на сайте krisha.kz по количеству просмотров, чтобы успеть ухватить новые предложения.

## Развёртывание из консоли
0. Установить нужную библиотеку: `python -m pip install beautifulsoup4`
1. Запустить скрипт `python rent-fetch.py "<url>"`.
    - url -- URL поиска, см. секцию "параметры скрипта"
    - **обязательно указывать в кавычках!**
    - сгенерируется и откроется локальная html-страничка с отсортированным списком квартир (все ссылки ведут уже на актуальный сайт)
    - пример: `python rent-fetch.py "https://krisha.kz/arenda/kvartiry/nur-sultan/?das[_sys.hasphoto]=1&das[price][to]=10000&das[rent.period]=1"`

## Параметры скрипта
Указываются в начале кода скрипта.

1. Можно указать `REQUEST_URL`
    - параметр по умолчанию если не передан аргумент запуска (чтобы кому удобнее, могли менять из кода)
    - это обычный URL страницы поиска с нужными фильтрами и городом
    - пример: `https://krisha.kz/arenda/kvartiry/nur-sultan/?das[_sys.hasphoto]=1&das[price][to]=10000&das[rent.period]=1` ([тык](https://krisha.kz/arenda/kvartiry/nur-sultan/?das[_sys.hasphoto]=1&das[price][to]=10000&das[rent.period]=1))
2. Можно изменить параметры `PAGE_START` и `PAGE_END`
    - если брать много (> 4) страниц, то перестают отображаться счётчики просмотров (но список всё равно будет отсортирован)
    - `PAGE_START` начинается с 1
    - `PAGE_END` берёт страницу включительно
